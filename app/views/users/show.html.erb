<div class="my-3">
  <h2 class="block mb-2 text-pink-500 font-bold text-2xl">Watcher Profile</h2>
  <ul>
    <li>First Name: <%= @user.first_name %></li>
    <li>Last Name:<%= @user.last_name %></li>
    <li>Age: <%= @user.age %></li>
    <li>Words to Live by: <%= @user.words_to_live_by %></li>
    <li>Location: <%= @user.location %></li>
    <% if user_signed_in? && @user != current_user %>
      <li><%= button_to "Add Friend", friendships_path(friend_id: @user), :method => :post %></li>
    <% end %>
  </ul>
</div>
<% if user_signed_in? && @user == current_user %>


  <h2 class="block mb-2 text-pink-500 font-bold text-2xl">Friends</h2>
  <ul>
    <% @user.friendships.each do |friendship| %>
    <li>
            <%= friendship.friend.username  %>
      (<%= link_to "remove", friendship, :method => :delete %>)
            </li>
    <%  end %>
  </ul>

  <h2 class="block mb-2 text-pink-500 font-bold text-2xl">Friended by Watcher</h2>
  <ul>
    <% @user.inverse_friends.each do |user| %>
    <li><%= user.first_name  %></li>
      <li><%= user.last_name %></li>
    <%  end %>
  </ul>


<% end %>
<h2 class="block mb-2 text-pink-500 font-bold text-2xl">Watch List</h2>
<div class="grid gap-4 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-4">
  <% @user.viewings.each do |viewing| %>
    <% @show = Show.where(tmdb_id: viewing.tmdb_id).first! %>
    <div>
    <ul>
      <p>
        <strong>Status:</strong>
        <% if viewing.status == 'not_started' %>
          Not Started
        <% elsif viewing.status == 'watching' %>
          Watching
        <% elsif viewing.status == 'on_hold' %>
          On Hold
        <% elsif viewing.status == 'finished' %>
          Finished
        <% end %>
      </p>
        <%# data %>
      <%= link_to show_path(@show) do  %>
        <%= image_tag("https://image.tmdb.org/t/p/w500/#{@show.poster_path}", class: "object-contain h-80 w-120")%>
      <% end %>
      <li>Name: <%= @show.name %> </li>
      <li>Original Language: <%= @show.original_language %> </li>
      <li>Original Name: <%= @show.original_name %> </li>
      <li>Overview: <%# @show.overview %></li>
    </ul>
    </div>
  <% end %>
</div>